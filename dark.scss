/*-- scss:defaults --*/
$theme: "lux";

// --- DARK COLORS ---
$body-bg: #1a1a1a;       // FORCE Dark Background
$body-color: #f8f9fa;    // Light Text
$primary: #f8f9fa;       // Light Titles
$secondary: #f8f9fa;       // Light Titles
$navbar-bg: #111111;     // Dark Navbar
$navbar-fg: #f8f9fa;     // Light Navbar Text

// --- Keep your Custom Colors ---
$success: #40A355;
$info: #9E54BD; // Keep Purple Title even in dark mode
$link-color: $success;

// --- Keep your Sizes (Must repeat them to match light mode) ---
$font-size-base: 1rem;
$h1-font-size: 1.5rem;
$h2-font-size: 1.25rem;
$h3-font-size: 1rem;
$h4-font-size: 0.75rem;

/*-- scss:rules --*/
// --- NAVBAR RULES (Repeat these so the layout doesn't jump) ---
.navbar {
  padding-top: 0.75rem !important;
  padding-bottom: 0.75rem !important;
  min-height: 40px;
}
.navbar-brand {
  font-size: 1.15rem !important; 
  font-weight: 700;
  color: $info !important; 
  margin-right: 2rem;
}
.navbar-nav .nav-link {
  font-size: 1rem;
  font-weight: 600;
  text-transform: uppercase;
  color: #f8f9fa !important; // Force links to be white in dark mode
}
/* Fix visibility of Categories in Dark Mode */
.quarto-listing-category-title {
    color: #e0e0e0 !important; /* Light grey/white for the title */
    font-weight: bold;
}

.quarto-listing-category .quarto-category {
    color: #cccccc !important; /* Slightly softer grey for the links */
}

.quarto-listing-category .quarto-category:hover {
    color: #ffffff !important; /* Bright white when hovering */
}
// Fix headings just in case
h1, h2, h3 { color: #f8f9fa !important; }

/* --- CUSTOM MERMAID STYLES --- */

/* 1. GREEN LINES & ARROWS */
/* Changes the line connecting the boxes */
.mermaid .edgePath .path {
    stroke: #40A355 !important;
    stroke-width: 2px !important;
    opacity: 1 !important;
}
/* Changes the triangle arrowheads */
.mermaid marker path {
    fill: #40A355 !important;
    stroke: #40A355 !important;
}

/* 2. GREEN BOX BORDERS */
/* Changes the border of the rectangles */
.mermaid .node rect,
.mermaid .node circle,
.mermaid .node polygon {
    stroke: #40A355 !important;
    stroke-width: 2px !important;
    /* We leave 'fill' alone so it stays Dark in Dark Mode / Light in Light Mode */
}

/* 3. PURPLE TEXT ON ARROWS */
/* Changes the text "Crop", "Operations", etc. */
.mermaid .edgeLabel, 
.mermaid .edgeLabel span,
.mermaid .edgeLabel div {
    color: #9E54BD !important;
    /* Uses the site background color for the label background */
    /* This ensures it looks clean on both Dark and Light mode */
    background-color: var(--bs-body-bg) !important; 
}

